---
layout: "@layout/main.astro"
title: 布局
---

import Layouts from "src/components/kanban/layouts.astro";
import Menu from "src/components/kanban/menu-tree.astro";
export * from 'src/components/markdown/map.mdx';

# layout

本文档页面构建使用的布局套路

<Layouts />

- `--width-aside` 侧边宽度 全局变量
- `aside[data-folded]` 折叠侧边 切换时无动画
- `aside[data-collapsed]` 塌陷侧边 切换时有动画


## watermark

添加 `☘-watermark` 类名的元素即可拥有一个 `::after` 水印图层

这个页面充满了水印

全局变量 `--opacity-watermark` 水印调整透明度（默认0.5）


## menu

本文档的左侧菜单利用了这个

<Menu />

- `li.☘-menu-submenu[data-folded]` 标记当前折叠的子菜单 切换时无动画
- `li.☘-menu-item[data-selected]` 标记当前选中的菜单叶子

```pug
ul.☘-menu#menu-tree-kanban
    li.☘-menu-item
        a.☘-menu-item-link 叶子-0
    li.☘-menu-submenu(data-folded)
        .☘-menu-submenu-title(onclick=function(){
            this.parentElement.toggleAttribute('data-folded')
        })
            span 分类-1
            i.☘-menu-submenu-title-arrow
        ul.☘-menu
            li.☘-menu-item
                a.☘-menu-item-link 叶子-1-1
            li.☘-menu-item
                a.☘-menu-item-link 叶子-1-2
    li.☘-menu-submenu
        .☘-menu-submenu-title(onclick=function(){
            this.parentElement.toggleAttribute('data-folded')
        })
            span 分类-2
            i.☘-menu-submenu-title-arrow
        ul.☘-menu
            li.☘-menu-item.☘-watermark(data-selected) 叶子-2-1
            li.☘-menu-item
                a.☘-menu-item-link 叶子-2-2

style(lang="stylus").
    #menu-tree-kanban
        --color-menu var(--gold-6)
```

全局变量 `--color-menu` 可以自定义菜单主题颜色RGB值

以下全局变量控制内边距

- `--padding-horizonal-menu-item` 纵向内边距
- `--padding-vertical-menu-item` 横向内边距
