---
layout: "@layout/main.astro"
title: 多选框
---

import Checkbox from "src/components/checkbox/index.astro";
import "src/components/checkbox/label-marker.styl";
import Grid from "src/components/grid.astro";
export * from 'src/components/markdown/map.mdx';


# checkbox

<Checkbox id="world" checked style="--indent-checkbox: 2em">world</Checkbox>

这里实现使用了 `path()` 绘制，如果你的浏览器不支持会被降级，样式会有细微区别

- 全局变量 `--indent-checkbox` 改变label文字左内边距，原本是用 `text-indent` 属性实现。但在Safari中使用 `::before` 的元素不支持 `text-indent`，遂改用 `padding-left` 来实现。默认值是1em（label紧贴input）

```pug
span.☘-checkbox(style="--indent-checkbox: 2em")
    input#hello.☘-input(type="checkbox")
    label.☘-checkbox-label(for="hello" title="world") world
```

注意，checkbox**捆绑**了 `<label>` ，你必须携带它，默认情况下label被点击时也会触发选择或反选

## `disabled`

<Grid inline style={{'--indent-checkbox': '20px'}}>
    <Checkbox id="HTTP" disabled>HTTP</Checkbox>
    <Checkbox id="HTTPS" checked disabled dataset={{ 
        primary : "success" 
    }}>HTTPS</Checkbox>
</Grid>

```pug
div(style={'--indent-checkbox': '20px'})
    span.☘-checkbox
        input#HTTP.☘-input(type="checkbox" disabled)
        label.☘-checkbox-label(for="HTTP" title="HTTP") HTTP
    span.☘-checkbox(data-primary="success")
        input#HTTPS.☘-input(type="checkbox" checked disabled)
        label.☘-checkbox-label(for="HTTPS" title="HTTPS") HTTPS
```


## `data-indeterminate`

这个样式设计来自于 [ui5 check-box](https://sap.github.io/ui5-webcomponents/playground/?path=/docs/main-check-box--docs)

<Checkbox
    id="Superposition"
    dataset={{ indeterminate : true }}
    style="--indent-checkbox: 20px"
    onchange="
    this.parentElement.removeAttribute('data-indeterminate')
">半信半疑</Checkbox>

```pug
span.☘-checkbox(
    data-indeterminate
    style="--indent-checkbox: 20px"
)
    input#Superposition.☘-input(
        type="checkbox"
        onchange=function(){
            this.parentElement.removeAttribute('data-indeterminate')
        }
    )
    label.☘-checkbox-label(
        for="Superposition"
        title="Superposition"
    ) 半信半疑
```

注意：`[data-indeterminate]` 在 checked与否 的不同状态下 观感并不相同。

在这个示例里，初始没有选择，选择后**清除**了 `[data-indeterminate]`，但你可以不



## `data-marker="-"`

预设了另一个**checked**符号，使用 `data-marker="-"` 启用，代替原先的✔

它一般放在列表表头，用来描述只选中了一部分

<Checkbox
    id="DashAsMark"
    checked
    dataset={{ marker : "-" }}
    style="--indent-checkbox: 20px"
>部分选择</Checkbox>

```pug
span.☘-checkbox(
    data-marker="-"
    style="--indent-checkbox: 20px"
)
    input#DashAsMark.☘-input(
        type="checkbox"
        checked
    )
    label.☘-checkbox-label(
        for="DashAsMark"
        title="DashAsMark"
    ) 部分选择
```

## custom style

- `--color-checkbox` 全局变量覆盖颜色RGB值
- `--color-checkbox-disabled` 禁用状态全局变量覆盖颜色RGB值

marker钩号或破折号由 `label::after` 实现，可以自定义添加你需要的✔图形

<Checkbox
    id="BlueTIMBox"
    checked
    dataset={{ marker : "*" }}
    style={{
        '--color-checkbox': 'var(--blue-6)',
        '--color-checkbox-disabled': 'var(--blue-2)',
        '--indent-checkbox': '20px',
        color: 'rgb(var(--blue-6))'
}}>Tim</Checkbox>

```pug
span.☘-checkbox(
    data-marker="*"
    style={
    '--color-checkbox': 'var(--blue-6)',
    '--color-checkbox-disabled': 'var(--blue-2)',
    '--indent-checkbox': '20px',
    color: 'rgb(var(--blue-6))'
})
    input#BlueTIMBox.☘-input(
        type="checkbox"
        checked
        disabled
    )
    label.☘-checkbox-label(
        for="BlueTIMBox"
        title="BlueTIMBox"
    ) Tim

style(lang="stylus").
    .☘-checkbox
        &[data-marker="*"]
            &>input:checked+^[0]-label::after
                content '*'
                font-size 18px
                color _rgb(var(--white))
```

### hide label

默认情况下label为空即可

<Checkbox id="NoLabel" dataset={{ indeterminate : true }}/>

```pug
span.☘-checkbox(data-indeterminate)
    input#NoLabel.☘-input(type="checkbox")
    label.☘-checkbox-label(for="NoLabel" title="NoLabel")
```

如果你只是需要label无法点击，只有多选框能被点击：

```sass
label.☘-checkbox-label
    pointer-events: none
```