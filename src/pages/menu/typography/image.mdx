---
layout: "@layout/main.astro"
title: 图片
---

import T from "src/components/T.astro";
import escape from "src/scripts/server/escape";
import { Icon } from "astro-icon";
import example from "src/assets/images/example.jpg";
import "src/components/image/iine.styl";
export * from 'src/components/markdown/map.mdx';


# image

![示例](./../../../assets/images/example.jpg) {/* <!--不支持相对路径开发时请忽略这个404错误--> */}

这个组件的显示来自拓展后的markdown。但是**加载失败**的效果。

```pug
p
    span.☘-image(style="display: inline-flex")
        img(src="/src/assets/images/example.jpg" alt="示例" onerror=function(){
            this.src="/src/assets/images/unknow.png";
            this.parentElement.dataset.error=true;
            this.onerror='return false'
        } ondragstart="return false")
        .☘-image-mask
            svg(width="24px" role="img" aria-label="eye" onclick=function(){
                window.open("/src/assets/images/example.jpg")
            })
            svg(width="24px" role="img" aria-label="eye-invisible")

style(lang="stylus").
    .☘-image
        svg[aria-label='eye']
        cursor pointer
        svg[aria-label='eye-invisible']
            cursor not-allowed
        &[data-error] svg[aria-label='eye']
        &:not([data-error]) svg[aria-label='eye-invisible']
            display none
```

## `<img>`

以**容器**方式。

如果不提供 `width` 默认以块级占满。你也可以同上文一样设置 `display` 为行内。

在低版本浏览器中 `width` 必须提供

<T class='☘-image' style="width:300px">
    <img alt="示例" src={example} />
</T>

```pug
.☘-image(style="width:300px")
    img(alt="示例" src='/src/assets/images/example.jpg')
```

## `background-image`

以**背景**方式。

必须以某种方式指定 `height` 和 `background-image`

比如指定 `aspect-ratio`

<T class='☘-image' style={{
    height: '300px',
    'background-image': `url(${example})`
}}/>

```pug
.☘-image(style={
    height: '300px',
    'background-image': url('/src/assets/images/example.png')
})
```

## mask

背景图或容器都可以使用的遮罩 `.☘-image>.☘-image-mask`

<T class='☘-image' style={{
    width: '100px',
    height: '100px',
    'background-image': `url(${example})`,
    'border-radius': '50%'
}}>
    <T class='☘-image-mask' onclick="event.target == this || this.parentElement.toggleAttribute('data-iine')">
        <Icon name="interactive-button/outline/heart" role="img" aria-label="heart" width="24px"/>
        <Icon name="interactive-button/fill/heart-fill" role="img" aria-label="heart-fill" width="24px"/>
    </T>
</T>


```pug
.☘-image(style={
    width: '100px',
    height: '100px',
    'background-image': url('/src/assets/images/example.jpg'),
    'border-radius': '50%'
})
    .☘-image-mask(onclick=function(){
        event.target == this || this.parentElement.toggleAttribute('data-iine')
    })
        svg(width="24px" role="img" aria-label="heart")
        svg(width="24px" role="img" aria-label="heart-fill")

style(lang='stylus').
    .☘-image
        svg[aria-label='heart']
        svg[aria-label='heart-fill']
            color magenta
            cursor pointer
        &[data-iine] svg[aria-label='heart']
        &:not([data-iine]) svg[aria-label='heart-fill']
            display none
```

### footer

适用于大尺寸图片（ 128像素以上 ）的底部遮罩 `.☘-image>.☘-image-footer`

<T class='☘-image' style="width:300px;height:300px;border-radius:var(--border-radius-lg)">
    <img alt="示例" src={example} />
    <T class='☘-image-footer'>
        <T class="☘-image-footer-content">
            <T class="☘-title" data-size='5'> 标题标题标题标题标题标题标题标题标题标题标题 </T>
            <T class="☘-paragraph" data-ellipsis="1"> 描述描述描述描述描述描述描述描述描述描述描述描述 </T>
        </T>
        <T class="☘-image-footer-action">
            <Icon class={escape('☘-link')} name="interactive-button/outline/eye" role="img" aria-label="eye" width="24px" onclick={`
                window.open('${example}')
            `} />
            <Icon class={escape('☘-link')} name="interactive-button/outline/download" role="img" aria-label="download" width="24px"/>
        </T>
    </T>
</T>

```pug
.☘-image(style={
    width: "300px",
    height: "300px",
    "border-radius": "var(--border-radius-lg)"
})
    img(alt="示例" src='/src/assets/images/example.jpg')
    .☘-image-footer
        .☘-image-footer-content
            .☘-title(data-size='5') 标题标题标题标题标题标题标题标题标题标题标题
            .☘-paragraph(data-ellipsis="1") 描述描述描述描述描述描述描述描述描述描述描述描述
        .☘-image-footer-action
            svg.☘-link(role="img" aria-label="eye" width="24px" onclick=function(){
                window.open("/src/assets/images/example.jpg")
            })
            svg.☘-link(role="img" aria-label="download" width="24px")
```
