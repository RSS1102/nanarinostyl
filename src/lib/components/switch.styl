@import './../variable/prefix.styl'
@import './../variable/functions.styl'

.{prefix}-switch
    /:root
        --size-switch 22px
        --padding-switch 2px
    
    --size-switch-mover calc(var(--size-switch) - 2 * var(--padding-switch))

    display inline-flex
    position relative
    font-size calc(var(--size-switch-mover) - var(--font-offset-parent))

    &.sm
        --size-switch 16px
    
    &>input.{prefix}-input[type=checkbox]
        position absolute
        opacity 0
        pointer-events none

        ~/-mover
            display inline-flex
            cursor pointer
            height var(--size-switch)
            width calc(var(--size-switch) * 2)
            ../:focus-visible+&
                outline 2px solid _rgb(var(--black))
            border-radius calc((var(--size-switch) / 2))
            background-color _rgb(var(--gray-4))
            transition background-color 1s
            ../:checked+&
                background-color _rgb(var(--primary-6))
            ../:checked:disabled+&
                background-color _rgb(var(--primary-3))
            ../:disabled+&
                background-color _rgb(var(--gray-3))
                cursor not-allowed
            
            &:empty::before, &>*
                content ''
                display flex
                align-items center
                justify-content center
                position absolute
                left var(--padding-switch)
                top var(--padding-switch)
                bottom var(--padding-switch)
                width var(--size-switch-mover)
                height @width
                border-radius 50%
                background-color _rgb(var(--gray-1))
                transition all 0.5s
            
                ../../:checked+&
                    left calc(var(--size-switch) + var(--padding-switch))
